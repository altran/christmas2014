<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>God Jul 2014 Altran</title>
  <meta name="description" content="Altran Christmas Card 2014">
  <meta name="author" content="Altran">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href='//fonts.googleapis.com/css?family=Niconne' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="css/xmas.css" media="all">
  <link rel="icon" type="image/png" href="images/favicon.png" />
</head>
<body>
  <a href="http://altran.no"><img src="images/altran.png" alt="Altran" class="altran"></a>
  <h2>ønsker alle våre venner</h2>
  <h1>God Jul &amp; Godt Nyttår</h1>

  <img src="images/santa.svg" alt="Santa" class="santa">
  <a href="http://getwhydah.com" class="whydahBox"><img src="images/whydahbox.svg" alt="Whydah" style="width:100%"></a>
  <a href="http://altran.github.io/acs" class="acsBox"><img src="images/acsbox.svg" alt="ACS" style="width:100%"></a>

  <div class="street">
    <img src="images/ground.svg" alt="Ground" class="ground">
    <img src="images/ink35.svg" alt="Building" class="ink35">
  </div>

  <div class="address">
    Inkognitogata 35, 0256 Oslo, <a href="tel:22 20 71 30">22 20 71 30</a>
  </div>
  
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="js/jquery-ui-effects.min.js"></script>
  <script src="js/fireworks.js"></script>
  <script>
    var turnSantaTimeout;
    var presentsDropped = false;
    var $santa = $('.santa');
    var $ink35 = $('.ink35');
    var $whydahBox = $('.whydahBox');
    var $acsBox = $('.acsBox');
    $ink35.click(egg);

    function egg(){
      console.log('Christmas egg!');
      $santa.toggleClass('santa-moving');
      clearTimeout(turnSantaTimeout);
      turnSantaTimeout = window.setTimeout(egg,8000);
      if(!presentsDropped){
        window.setTimeout(dropWhydah,3000);
        window.setTimeout(dropAcs,3500);
        presentsDropped = true;
      }
    }
    function dropWhydah(){
      dropPresents('whydah');
    }
    function dropAcs(){
      dropPresents('acs');
    }
    function dropPresents(type){
      $santa.width();
      var santaOffset = $santa.offset();
      var ink35Offset = $ink35.offset();
      var animationConf = {
        duration: 1000,
        specialEasing: {
          left: 'linear',
          top:'easeOutBounce'
        }
      };
      santaOffset.left = santaOffset.left+$santa.width()*0.4;
      ink35Offset.left = ink35Offset.left+$ink35.width()/2;
      ink35Offset.top = ink35Offset.top+$ink35.height()*0.7;
      ink35Offset.width = '2em';
      ink35Offset.height = '2em';
      if(type=='whydah'){
        ink35Offset.left = ink35Offset.left+$whydahBox.width()*1.3;
        $whydahBox.addClass('flipBox').offset(santaOffset);
        $whydahBox.animate(ink35Offset, animationConf);
      } else if(type=='acs') {
        ink35Offset.left = ink35Offset.left-$acsBox.width()*1.3;
        $acsBox.addClass('flipBox').offset(santaOffset);
        $acsBox.animate(ink35Offset, animationConf);
      }
    }
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-57836505-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
